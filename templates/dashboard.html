{% extends "base.html" %}

{% block title %}Home - Piattaforma{% endblock %}

{% block extra_css %}
<style>
    .app-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 2rem;
        padding: 2rem 0;
        max-width: 800px;
        margin: 0 auto;
    }

    .app-icon {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        color: inherit;
        transition: all 0.3s ease;
        padding: 1.5rem;
        border-radius: 20px;
        background: var(--bs-body-bg);
        position: relative;
    }

    .app-icon:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    }

    .app-icon-circle {
        width: 80px;
        height: 80px;
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 0.75rem;
        font-size: 2.5rem;
        color: white;
        position: relative;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .app-icon-label {
        font-size: 0.9rem;
        font-weight: 500;
        text-align: center;
        margin-bottom: 0;
        color: var(--bs-body-color);
    }

    .app-badge {
        position: absolute;
        top: -5px;
        right: -5px;
        background: #dc3545;
        color: white;
        border-radius: 12px;
        padding: 2px 8px;
        font-size: 0.75rem;
        font-weight: bold;
        min-width: 20px;
        text-align: center;
        box-shadow: 0 2px 5px rgba(220, 53, 69, 0.3);
    }

    .welcome-section {
        text-align: center;
        padding: 2rem 0 1rem;
        max-width: 600px;
        margin: 0 auto;
    }

    .welcome-section h1 {
        font-size: 2rem;
        font-weight: 600;
        margin-bottom: 0.5rem;
    }

    .welcome-section .lead {
        color: var(--bs-secondary);
        font-size: 1rem;
    }

    /* Colori specifici per ogni app */
    .app-allenamenti { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
    .app-pasti { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
    .app-workout { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
    .app-stats { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }
    .app-wishlist { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }
    .app-home { background: linear-gradient(135deg, #30cfd0 0%, #330867 100%); }
    .app-location { background: linear-gradient(135deg, #fbc2eb 0%, #a6c1ee 100%); }
    .app-appointments { background: linear-gradient(135deg, #f77062 0%, #fe5196 100%); }
    .app-game-prize { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }

    @media (max-width: 576px) {
        .app-grid {
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 1.5rem;
        }

        .app-icon-circle {
            width: 70px;
            height: 70px;
            font-size: 2rem;
        }

        .welcome-section h1 {
            font-size: 1.5rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="welcome-section">
    <h1>Ciao, {{ session.username }}! ðŸ‘‹</h1>
    <p class="lead">Cosa vuoi fare oggi?</p>
</div>

<div class="app-grid">
    <!-- Home Pubblica -->
    <a href="{{ url_for('index') }}" class="app-icon">
        <div class="app-icon-circle app-home">
            <i class="bi bi-house-door"></i>
        </div>
        <p class="app-icon-label">Home</p>
    </a>

    <!-- Wishlist -->
    <a href="{{ url_for('wishlist.index') }}" class="app-icon">
        <div class="app-icon-circle app-wishlist">
            <i class="bi bi-gift-fill"></i>
        </div>
        <p class="app-icon-label">Wishlist</p>
    </a>

    <!-- Allenamenti -->
    <a href="{{ url_for('fitness.allenamenti') }}" class="app-icon">
        <div class="app-icon-circle app-allenamenti">
            <i class="bi bi-heart-pulse"></i>
            {% if stats.allenamenti_settimana > 0 %}
            <span class="app-badge">{{ stats.allenamenti_settimana }}</span>
            {% endif %}
        </div>
        <p class="app-icon-label">Allenamenti</p>
    </a>

    <!-- Pasti -->
    <a href="{{ url_for('fitness.pasti') }}" class="app-icon">
        <div class="app-icon-circle app-pasti">
            <i class="bi bi-egg-fried"></i>
            {% if stats.pasti_oggi > 0 %}
            <span class="app-badge">{{ stats.pasti_oggi }}</span>
            {% endif %}
        </div>
        <p class="app-icon-label">Alimentazione</p>
    </a>

    <!-- Scheda Workout -->
    <a href="{{ url_for('fitness.scheda_workout') }}" class="app-icon">
        <div class="app-icon-circle app-workout">
            <i class="bi bi-dumbbell"></i>
        </div>
        <p class="app-icon-label">Workout</p>
    </a>

    <!-- Statistiche -->
    <a href="{{ url_for('fitness.stats') }}" class="app-icon">
        <div class="app-icon-circle app-stats">
            <i class="bi bi-bar-chart-line"></i>
        </div>
        <p class="app-icon-label">Statistiche</p>
    </a>

    <!-- Dove Sono -->
    <a href="{{ url_for('location.index') }}" class="app-icon">
        <div class="app-icon-circle app-location">
            <i class="bi bi-geo-alt-fill"></i>
        </div>
        <p class="app-icon-label">Dove Sono</p>
    </a>

    <!-- Appuntamenti -->
    <a href="{{ url_for('appointments.index') }}" class="app-icon">
        <div class="app-icon-circle app-appointments">
            <i class="bi bi-calendar-check"></i>
        </div>
        <p class="app-icon-label">Appuntamenti</p>
    </a>

    <!-- Game Prize -->
    <a href="{{ url_for('game_prize.admin_welcome') }}" class="app-icon">
        <div class="app-icon-circle app-game-prize">
            <i class="bi bi-trophy-fill"></i>
        </div>
        <p class="app-icon-label">Game Prize</p>
    </a>
</div>

<!-- Sezione Quick Stats (opzionale, minimale) -->
<div class="row mt-5" style="max-width: 600px; margin: 0 auto;">
    <div class="col-6 text-center">
        <div class="p-3">
            <h3 class="mb-0" style="color: #667eea;">{{ stats.allenamenti_settimana }}</h3>
            <small class="text-muted">allenamenti questa settimana</small>
        </div>
    </div>
    <div class="col-6 text-center">
        <div class="p-3">
            <h3 class="mb-0" style="color: #f5576c;">{{ stats.pasti_oggi }}</h3>
            <small class="text-muted">pasti registrati oggi</small>
        </div>
    </div>
</div>
{% endblock %}
