╔══════════════════════════════════════════════════════════════════════╗
║              GAME PRIZE - PARTECIPANTI QUICK REFERENCE              ║
╚══════════════════════════════════════════════════════════════════════╝

📊 CONFIGURAZIONE RAPIDA
─────────────────────────

URL: /game-prize/admin/setup

Field Name:     "Numero di Partecipanti Invitati"
Input Type:     number
Min Value:      1
Default:        100
Saved to DB:    game_prize_config.max_participants

─────────────────────────

🗄️  DATABASE REFERENCE
─────────────────────────

Table:   game_prize_config
Field:   max_participants
Type:    INTEGER
Default: 100

Data Persistence:
├─ Salvataggio:    UPDATE/INSERT nella tabella game_prize_config
├─ Recupero:       SELECT * FROM game_prize_config WHERE id = 1
└─ Accesso Python: config[5] in templates

─────────────────────────

🎯 VISUALIZZAZIONE NEI TEMPLATE
─────────────────────────

1. ADMIN SETUP PAGE (/game-prize/admin/setup)
   └─ Campo input: "Numero di Partecipanti Invitati"
      └─ Valore visualizzato: {{ config[5] if config else 100 }}

2. ADMIN DASHBOARD (/game-prize/admin/dashboard)
   ├─ Card Statistiche (primo):
   │  └─ "Partecipanti Invitati" → {{ config[5] if config else 100 }}
   │
   └─ Sezione Configurazione:
      └─ "Partecipanti Invitati: ~{{ config[5] if config else 100 }}"

3. PLAYER DASHBOARD (/game-prize/dashboard)
   └─ Sotto il titolo principale:
      └─ "👥 ~{{ game_config[5] }} partecipanti invitati"

─────────────────────────

🔧 MODIFICA DEL VALORE
─────────────────────────

STEP 1: Accedi come admin
STEP 2: Vai a /game-prize/admin/setup
STEP 3: Modifica il campo "Numero di Partecipanti Invitati"
STEP 4: Clicca "Salva Configurazione"
STEP 5: Il valore si aggiorna ovunque nel sistema

─────────────────────────

💾 BACKEND HANDLER
─────────────────────────

File:           modules/game_prize.py
Route:          @bp.route('/admin/setup', methods=['POST'])
Function:       admin_setup()

Estrazione parametro:
   max_participants = int(request.form.get('max_participants', 100))

Salvataggio:
   cursor.execute('''
       INSERT INTO game_prize_config 
       (..., max_participants, ...)
       VALUES (..., %s, ...)
   ''', (..., max_participants, ...))

─────────────────────────

📈 STATISTICHE & METRICHE
─────────────────────────

Numero Partecipanti Invitati:  config[5]
Giocatori Attivi:              count(DISTINCT user_id FROM game_user_completions)
Tasso di Accettazione:         (giocatori_attivi / config[5]) * 100

Nota: Non tutti gli invitati accetteranno.
      Il "~" indica un numero approssimativo.

─────────────────────────

🚀 FILE MODIFICATI
─────────────────────────

✓ app.py
  └─ Tabella game_prize_config +max_participants

✓ modules/game_prize.py
  └─ Handler form POST aggiornato

✓ templates/game_prize/admin_setup.html
  └─ Nuovo input field

✓ templates/game_prize/admin_dashboard.html
  └─ Card statistiche + sezione config

✓ templates/game_prize/dashboard.html
  └─ Indicatore partecipanti

─────────────────────────

✅ VERIFICATION CHECKLIST
─────────────────────────

[✓] Database field creato
[✓] Backend handler aggiornato
[✓] Admin setup form aggiornato
[✓] Admin dashboard aggiornato
[✓] Player dashboard aggiornato
[✓] Default impostato a 100
[✓] Salvataggio/recupero funziona
[✓] Indici config coerenti

─────────────────────────

📝 DOCUMENTI RIFERIMENTO
─────────────────────────

Dettagli completi:  GAME_PRIZE_PARTICIPANTS_UPDATE.md
Changelog:          CHANGELOG_PARTICIPANTS.txt
Quick ref:          QUICK_REFERENCE_PARTICIPANTS.txt (questo file)

─────────────────────────

Status: 🟢 PRODUCTION READY - 23 Oct 2025
